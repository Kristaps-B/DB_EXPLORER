<html>
	<head>
		<link rel="stylesheet" href="css/bootstrap.css">
	
		<title>VIEW_INFORMATION</title>
		
		
		<script type="text/javascript">
		
			function create() {
				document.getElementById('view_name').innerHTML = app.getViewName();
				
				
				loadTables();
				loadJoins();
				loadColumns ();
			}
			
			
			function allViews() {
				
				app.toAllViews();
				
				
				
			}
			
			
			
			function loadTables() {
				var str_vtables = app.loadViewsTables();
				
				
				
				var tableHeaderRowCount = 1;
				var table = document.getElementById('TABLE_TABLE');
				var rowCount = table.rows.length;
				for (var i = tableHeaderRowCount; i < rowCount; i++) {
				    table.deleteRow(tableHeaderRowCount);
				}	
				
				
				
				
				var vtables_json = JSON.parse(str_vtables);
				
				
				
				
				for (var i = 0; i < vtables_json.length; i++) {
					
					var row = table.insertRow(i + 1);
					
					var cell =  row.insertCell(0);
					cell.innerHTML = vtables_json[i].id;
					
					
					cell =  row.insertCell(1);
					cell.innerHTML = vtables_json[i].table_id;
					
					
					cell =  row.insertCell(2);
					cell.innerHTML = vtables_json[i].table_name;

					
					cell =  row.insertCell(3);
					cell.innerHTML = vtables_json[i].alias;					

				}
				
				
			}	
			
			
			
			function loadJoins () {
				var str_vjoins = app.loadJoins();

				
				
				
				var tableHeaderRowCount = 1;
				var table = document.getElementById('JOIN_TABLE');
				var rowCount = table.rows.length;
				for (var i = tableHeaderRowCount; i < rowCount; i++) {
				    table.deleteRow(tableHeaderRowCount);
				}	
				
				
				
				
				var vjoins_json = JSON.parse(str_vjoins);
				
				
				
				
				for (var i = 0; i < vjoins_json.length; i++) {
					
					var row = table.insertRow(i + 1);
					
					var cell =  row.insertCell(0);
					cell.innerHTML = vjoins_json[i].id;
					
					
					cell =  row.insertCell(1);
					cell.innerHTML = vjoins_json[i].left_table_name;
					
					
					cell =  row.insertCell(2);
					cell.innerHTML = vjoins_json[i].left_column_name;

					
					cell =  row.insertCell(3);
					cell.innerHTML = vjoins_json[i].right_table_name;		
					
					
					cell =  row.insertCell(4);
					cell.innerHTML = vjoins_json[i].right_column_name;	

				}				
				
				
			}
			
			
			function loadColumns () {
				var str_columns = app.loadColumns();
				
				
				
				var tableHeaderRowCount = 1;
				var table = document.getElementById('COLUMN_TABLE');
				var rowCount = table.rows.length;
				for (var i = tableHeaderRowCount; i < rowCount; i++) {
				    table.deleteRow(tableHeaderRowCount);
				}	
				
				
				
				
				var columns_json = JSON.parse(str_columns);
				
				
				
				
				for (var i = 0; i < columns_json.length; i++) {
					
					var row = table.insertRow(i + 1);
					
					var cell =  row.insertCell(0);
					cell.innerHTML = columns_json[i].id;
					
					cell =  row.insertCell(1);
					cell.innerHTML = columns_json[i].table_name;
					
					
					cell =  row.insertCell(2);
					cell.innerHTML = columns_json[i].column_name;
					
					
					cell =  row.insertCell(3);
					cell.innerHTML = columns_json[i].data_type;

				 

				}				
				
			}
			
			
		</script>
	</head>
	<body>
		<center><h1>VIEW_INFORMATION: <div id="view_name"></div></h1></center>
		
		</br>
		
		<center>
			<button  class="btn btn-primary"  onclick="allViews();" > ALL_VIEWS </button>
		</center>
		
		<center><h2>TABLES</h2></center>
		
	<table id = "TABLE_TABLE"   class="table"  >
		<tr>
			<th>ID</th>
			<th>TABLE_ID</th>
			<th>(TABLE/VIEW)_NAME</th>
			<th>ALIAS</th>
		</tr>
	
	</table>	
	
	
	<center><h2>COLUMNS</h2></center>
	<table id = "COLUMN_TABLE"   class="table"  >
		<tr>
			<th>ID</th>
			<th>(TABLE/VIEW)_NAME</th>
			<th>COLUMN_NAME</th>
			<th>COLUMN_TYPE</th>
		</tr>
	
	</table>		
		
	
	
	<center><h2>JOINS</h2></center>		
	<table id = "JOIN_TABLE"   class="table"  >
		<tr>
			<th>ID</th>
			<th>LEFT_TABLE</th>
			<th>LEFT_COLUMN</th>
			<th>RIGHT_TABLE</th>
			<th>RIGHT_COLUMN</th>
		</tr>
	
	</table>	
	
		
	
	</body>
</html>