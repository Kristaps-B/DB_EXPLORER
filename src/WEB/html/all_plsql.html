<html>
<head>
	<link rel="stylesheet" href="css/bootstrap.css">
<title>ALL_TABLES</title>

<script type="text/javascript">
	function create () {
		
		loadPlsql();
	}
	
	
	function toMenu () {
		
		app.toMenu();
	}
	
	
	function updatePlsql() {
		
		app.updatePlsql();
		
		loadPlsql();
	}
	
	
	function goToInformation (id) {
		
		app.goToInformation(id);
	}
	
	
	
	function analysePlsql(id, owner, name) {
		
		
		// app.analyseTable(tableId, tableOwner, tableName);
		
	}
	
	
	
	function loadPlsql () {
		
		
		var str_json = app.loadPlsql();
		
		
		var tableHeaderRowCount = 1;
		var table = document.getElementById('PLSQL_TABLE');
		var rowCount = table.rows.length;
		for (var i = tableHeaderRowCount; i < rowCount; i++) {
		    table.deleteRow(tableHeaderRowCount);
		}	
		
		
		
		
		var table_json = JSON.parse(str_json);
		
		
		
		
		for (var i = 0; i < table_json.length; i++) {
			
			var row = table.insertRow(i + 1);
			
			var cell =  row.insertCell(0);
			cell.innerHTML = table_json[i].id;
			
			var cell =  row.insertCell(1);
			cell.innerHTML = table_json[i].plsql_id;
			
			cell =  row.insertCell(2);
			cell.innerHTML = table_json[i].owner;
			
			
			cell =  row.insertCell(3);
			cell.innerHTML = table_json[i].name;
			
			cell =  row.insertCell(4);
			cell.innerHTML = table_json[i].type;
			
			
			cell =  row.insertCell(5);
			cell.innerHTML =   '<button  class="btn btn-default" onclick="analysePlsql(\'' + table_json[i].id + '\', \'' + table_json[i].owner + '\', \'' + table_json[i].name + '\')" > EXAMINE </button>';
			
			cell =  row.insertCell(6);
			cell.innerHTML =   '<button  class="btn btn-default" onclick="goToInformation(\'' + table_json[i].id + '\')" > INFORMATION </button>';
				
			
		}
		
		
		
	}
	
</script>



</head>
<body>
	<center><h1>ALL_PLSQL</h1></center>
	
	
	<center>
	<button class="btn btn-primary"   onclick="updatePlsql();" > UPDATE_PLSQL </button>
	<button class="btn btn-primary"   onclick="toMenu();" > TO_MENU </button></br>
	</br>
	</center>
	
	
	
	<table id = "PLSQL_TABLE"   class="table" >
		<tr>
			<th>ID</th>
			<th>PLSQL_ID</th>
			<th>OWNER</th>
			<th>PLSQL_NAME</th>
			<th>PLSQL_TYPE</th>
			<th>ANALYSE</th>
			<th>INFORMATION</th>
		</tr>
	
	</table>	
	
	

</body>

</html>